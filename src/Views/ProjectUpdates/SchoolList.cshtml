@model IEnumerable<BES.Models.Data.SchIndicatorStatus>
@{ 
    var completed = Model.Where(a => a.IsUploaded == 1);
    var remaining = Model.Where(a => a.IsUploaded ==0);
}
<h3>Status of Schools with respcet of @ViewBag.IndicatorName </h3>
<!-- Nav tabs -->
<ul class="nav nav-tabs" role="tablist">
    <li role="presentation" class="active"><a href="#example1-tab1" aria-controls="example1-tab1" role="tab" data-toggle="tab">Completed</a></li>
    <li role="presentation"><a href="#example1-tab2" aria-controls="example1-tab2" role="tab" data-toggle="tab">Remaining</a></li>
</ul>
<!-- Tab panes -->
<div class="tab-content">
    <div role="tabpanel" class="tab-pane fade in active" id="example1-tab1">
        <table class="table table-striped table-bordered  dataTables-example">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.RegionID)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.DistrictName)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.SchoolID)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.SName)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.BEMIS)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.SLevel)
                    </th>


                    <th>
                        @Html.DisplayNameFor(model => model.Type)
                    </th>


                </tr>
            </thead>
            <tbody>
                @foreach (var item in completed)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.RegionID)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DistrictName)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.SchoolID)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.SName)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.BEMIS)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.SLevel)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.Type)
                        </td>

                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div role="tabpanel" class="tab-pane fade" id="example1-tab2">
        <table class="table table-striped table-bordered  dataTables-example">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.RegionID)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.DistrictName)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.SchoolID)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.SName)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.BEMIS)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.SLevel)
                    </th>


                    <th>
                        @Html.DisplayNameFor(model => model.Type)
                    </th>


                </tr>
            </thead>
            <tbody>
                @foreach (var item in remaining)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.RegionID)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DistrictName)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.SchoolID)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.SName)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.BEMIS)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.SLevel)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.Type)
                        </td>

                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
<script src="~/libs/datatables/js/jquery.dataTables.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {

        $('.dataTables-example').DataTable({
            //"scrollY": 350,
            //"processing": true, // for show progress bar
            //"bJQueryUI": true,
            //"bServerSide": true,
            //"sAjaxSource": "SchoolList",
            "bPaginate": false,
            "ordering": false,
            dom: '<"html5buttons"B>lTfigtp',

            buttons: [
                { extend: 'copy' },
                { extend: 'csv' },
                { extend: 'excel', title: 'ExampleFile' },
                { extend: 'pdf', title: 'ExampleFile' },


            ]

        });
        //alert('Table Generated')
          $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
            $($.fn.dataTable.tables(true)).DataTable()
               .columns.adjust();
            //alert("Tab Clicked");
        });

    });
</script>
